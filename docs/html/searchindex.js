Search.setIndex({"docnames": ["class/schedule", "class/staff", "index", "labs/hardware/asm", "labs/hardware/index", "labs/hardware/mailbox", "labs/hardware/uart", "labs/lab0", "labs/lab1", "labs/lab2", "labs/lab3", "labs/lab4", "labs/lab5", "labs/lab6", "labs/lab7", "labs/lab8", "labs/overview", "references/external_resources", "references/old_course"], "filenames": ["class/schedule.rst", "class/staff.rst", "index.rst", "labs/hardware/asm.rst", "labs/hardware/index.rst", "labs/hardware/mailbox.rst", "labs/hardware/uart.rst", "labs/lab0.rst", "labs/lab1.rst", "labs/lab2.rst", "labs/lab3.rst", "labs/lab4.rst", "labs/lab5.rst", "labs/lab6.rst", "labs/lab7.rst", "labs/lab8.rst", "labs/overview.rst", "references/external_resources.rst", "references/old_course.rst"], "titles": ["Schedule", "Staff", "Welcome to Operating System Capstone, Spring 2022!", "The Assembly You Need", "Hardware", "Mailbox", "UART", "Lab 0: Environment Setup", "Lab 1: Hello World", "Lab 2: Booting", "Lab 3: Exception and Interrupt", "Lab 4: Allocator", "Lab 5: Thread and User Process", "Lab 6: Virtual Memory", "Lab 7: Virtual File System", "File System Meets Hardware", "Overview", "External Resourses", "Old Course Websites"], "terms": {"week": [0, 16], "date": 0, "lectur": 0, "topic": 0, "read": [0, 5, 9, 12, 13], "lab": [0, 2, 5], "project": 0, "video": [0, 17], "1": [0, 5, 6, 7, 16], "15": [0, 6, 10], "feb": 0, "17": 0, "18": 0, "cours": [0, 2, 3, 7, 16, 17], "overview": [0, 6], "ta": [0, 2, 11, 16], "hour": 0, "0": [0, 5, 6, 8, 9, 10, 11, 12, 13], "o": [0, 7, 9, 11, 12, 17], "introduct": 0, "2": [0, 3, 5, 6, 7, 16], "22": 0, "24": 0, "25": [0, 6], "kernel": [0, 2, 10, 11, 16], "debug": [0, 9], "tool": 0, "compil": [0, 9, 13, 16], "3": [0, 2, 5, 6], "mar": 0, "4": [0, 2, 5, 9, 10, 12], "hardwar": [0, 2, 7, 10, 12], "basic": [0, 6, 7, 16], "demo": [0, 2, 11, 12, 13], "microprocessor": 0, "x86": 0, "isa": 0, "due": [0, 12], "8": [0, 5, 6, 9, 10, 13, 16], "10": [0, 2, 10, 12, 13], "11": [0, 10, 13], "boot": [0, 6, 7, 8, 10, 11, 12], "process": [0, 9, 10], "bootload": [0, 7, 8], "5": [0, 2, 5, 9, 10, 11, 13], "system": [0, 6, 7, 9, 10, 13, 16, 17, 18], "call": [0, 5, 8, 9, 10, 11, 13], "interrupt": [0, 12], "except": [0, 12, 13], "6": [0, 2, 5, 6, 10, 12], "manag": [0, 11, 13, 16], "7": [0, 5, 10, 13], "29": [0, 6], "30": [0, 2, 13], "apr": 0, "memori": [0, 5, 6, 7, 8, 9, 12], "spring": [0, 18], "break": [0, 11, 12], "virtual": [0, 5, 11, 12], "9": [0, 2, 5, 10], "12": [0, 2, 10, 13], "14": [0, 6, 10, 13], "19": 0, "21": 0, "multiprocessor": 0, "lock": [0, 12], "concurr": 0, "issu": [0, 8, 10, 16], "26": 0, "28": [0, 5], "presist": 0, "storag": [0, 9], "mai": [0, 8, 9, 10, 11, 12, 13, 16, 18], "block": [0, 10, 12, 13], "devic": [0, 6, 7, 9, 11, 12, 13], "driver": [0, 9], "13": [0, 10], "file": [0, 9, 13], "20": [0, 2], "secur": [0, 10], "27": 0, "network": [0, 9, 10], "16": [0, 10, 11, 12, 13], "31": [0, 10], "jun": 0, "machin": [0, 2, 7, 9, 12], "holidai": 0, "final": [0, 7], "submiss": [0, 16, 18], "tsung": 1, "tai": 1, "yeh": 1, "email": 1, "ttyeh": 1, "c": [1, 7, 12, 13, 17], "nctu": [1, 18], "locat": [1, 2, 11, 12], "ec707": 1, "mu": 1, "le": 1, "lee": 1, "mllee": 1, "ec120": 1, "chih": 1, "ning": 1, "hsi": 1, "leonhsi111": 1, "gmail": 1, "kai": 1, "chun": 1, "chang": [1, 6, 13], "aa940249tw": 1, "chung": 1, "lin": 1, "benjamin": 1, "cclin": 1, "x": [1, 5, 10, 11], "thi": [2, 3, 16, 18], "aim": 2, "introduc": [2, 9, 10, 11, 13], "design": [2, 9, 10, 11, 13, 16, 18], "implement": [2, 5, 8, 9, 10, 11, 13, 16, 18], "you": [2, 5, 6, 7, 8, 9, 10, 11, 12, 13, 16, 17, 18], "ll": [2, 7, 8, 9, 11, 12, 16], "learn": [2, 3, 9, 12, 16], "both": [2, 6, 8, 10, 13], "concept": [2, 13], "from": [2, 5, 6, 9, 10, 11, 12, 13], "seri": 2, "us": [2, 5, 6, 7, 8, 9, 10, 11, 12, 16], "raspberri": [2, 7, 9, 17], "pi": [2, 7, 9, 17], "model": 2, "b": [2, 3, 5, 7, 9, 10], "rpi3": [2, 5, 6, 8, 11, 12, 16], "short": [2, 10], "platform": 2, "student": 2, "can": [2, 5, 6, 7, 8, 9, 10, 11, 12, 13, 16, 17, 18], "get": [2, 5, 6, 9, 10, 11, 12, 13, 16], "hand": [2, 11, 12, 16], "dirti": 2, "real": [2, 5, 8, 16], "instead": [2, 5, 6, 9, 12, 16], "an": [2, 5, 6, 7, 8, 9, 10, 11, 12, 13, 16], "emul": [2, 7, 16], "titl": 2, "time": [2, 5, 6, 7, 10, 11, 12, 13], "pm": 2, "tue": 2, "On": [2, 7, 12], "line": [2, 5, 6, 10], "am": 2, "00": 2, "fri": 2, "ec": 2, "115": 2, "mon": 2, "707": 2, "thur": 2, "120": 2, "220": 2, "document": [2, 7, 10, 12, 13], "i": [2, 3, 5, 6, 7, 8, 11, 12, 13, 16], "self": 2, "contain": [2, 5, 7, 11, 12, 13], "more": [2, 3, 7, 8, 9, 10, 12], "inform": [2, 3, 7, 10, 11, 12, 13], "extern": 2, "refer": [2, 3, 5, 6, 8, 17], "although": [3, 7], "about": [3, 6, 7, 8, 11, 12, 13], "languag": [3, 16], "still": [3, 7, 9, 10, 11, 12, 13, 16], "write": [3, 5, 9, 12, 16], "some": [3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 16, 17], "bare": [3, 7, 8, 17], "metal": [3, 7, 8, 17], "program": [3, 7, 8, 9, 10, 11, 12, 16], "here": [3, 12], "we": [3, 5, 6, 7, 9, 10, 11, 12, 13, 16], "provid": [3, 5, 6, 7, 8, 9, 11, 12, 13], "piec": [3, 12], "code": [3, 6, 8, 9, 10, 11, 12, 13, 16], "possibli": 3, "after": [3, 6, 7, 8, 9, 10, 11, 12, 13], "copi": [3, 10, 12, 16], "past": [3, 16], "look": [3, 10, 13], "up": [3, 6, 7, 8, 9, 10, 11, 12, 13, 16], "manual": [3, 6, 9, 10, 13], "understand": [3, 5, 7, 8, 9, 10, 12, 13], "how": [3, 5, 6, 8, 10, 12, 13, 16], "work": [3, 8, 11, 13, 16], "might": [3, 5, 7, 9, 13, 16, 18], "other": [3, 9, 10, 11, 12, 13, 16], "achiev": [3, 10, 12, 13], "extra": [3, 11, 13], "function": [3, 6, 7, 9, 10, 11, 12], "pleas": [3, 5, 6, 10, 12, 13], "two": [3, 7, 8, 9, 10, 12, 13], "http": [3, 6, 7, 10, 13, 17, 18], "static": [3, 11, 13], "doc": [3, 6, 10], "arm": [3, 5, 6, 7, 8, 10, 13], "com": [3, 7, 17], "100898": 3, "0100": 3, "the_a64_instruction_set_100898_0100": 3, "pdf": [3, 6, 10], "ddi0596": 3, "ddi_0596_arm_a64_instruction_set_architectur": 3, "ddi0487": 3, "ea": 3, "ddi0487e_a_armv8_arm": 3, "enter": [3, 10, 12], "busi": [3, 10, 12], "loop": 3, "_start": [3, 7, 10], "wfe": [3, 7], "set": [3, 5, 6, 7, 8, 10, 11, 12, 13], "stack": [3, 8, 10, 12, 13], "pointer": [3, 8, 9, 10, 11, 12], "branch": [3, 10, 13], "main": [3, 9, 12, 13], "ldr": [3, 10, 12, 13], "x0": [3, 9, 10, 12, 13], "_stack_top": 3, "mov": [3, 10, 12, 13], "sp": [3, 10, 12, 13], "bl": [3, 10], "1b": [3, 10], "commun": [5, 8, 12], "mechan": [5, 10, 12, 13], "between": [5, 8, 9, 10, 11, 12, 13], "videocoreiv": [5, 8], "gpu": [5, 7, 8, 9, 10, 13], "configur": [5, 6, 7, 8, 9, 10], "peripher": [5, 6, 8, 13], "onli": [5, 8, 9, 10, 11, 12, 13, 16], "list": [5, 8, 12, 13], "materi": 5, "need": [5, 6, 7, 8, 9, 10, 11, 12, 13, 16, 18], "For": [5, 6, 9, 10, 11, 12, 13, 16], "detail": [5, 6, 9, 10, 13, 16], "raspberrypi": [5, 7, 10, 17], "firmwar": [5, 7], "The": [5, 6, 8, 9, 10, 11, 13], "consist": [5, 11], "three": [5, 13], "compon": [5, 10], "regist": [5, 6, 7, 9, 10, 12], "channel": 5, "messag": [5, 10], "ar": [5, 7, 8, 9, 10, 11, 12, 16, 17], "access": [5, 6, 8, 9, 10, 11, 12, 13], "mmio": [5, 13], "cpu": [5, 6, 7, 8, 9, 10, 12, 13], "statu": [5, 10, 11, 12], "check": [5, 6, 8, 9, 10, 11, 12, 13, 16, 18], "defin": [5, 8, 10, 11, 13], "sever": [5, 6, 11], "To": [5, 6, 7, 9, 10, 11, 12, 13], "pass": [5, 9], "prepar": [5, 7, 10], "arrai": [5, 10, 11], "Then": [5, 6, 7, 9, 10, 11, 12, 13], "appli": 5, "follow": [5, 7, 8, 9, 10, 11, 12, 13], "step": [5, 7, 9, 13], "combin": [5, 13], "address": [5, 6, 8, 9, 10, 11, 12, 13], "upper": [5, 13], "bit": [5, 6, 7, 13], "number": [5, 8, 10, 12, 13], "lower": [5, 10, 13], "": [5, 6, 7, 9, 11, 12, 16, 17], "full": [5, 8], "flag": [5, 6, 13], "If": [5, 6, 7, 8, 10, 11, 12, 13, 16], "empti": [5, 6, 11], "valu": [5, 6, 8, 11, 12, 13], "same": [5, 6, 7, 10, 11, 12, 13], "wrote": 5, "becaus": [5, 6, 7, 9, 10, 11, 12, 13], "could": [5, 7, 8, 10, 12, 13], "should": [5, 6, 7, 8, 9, 10, 11, 12, 13, 16], "correctli": [5, 8, 10, 13], "align": [5, 8, 10, 11, 12], "mmio_bas": 5, "0x3f000000": [5, 6], "mailbox_bas": 5, "0xb880": 5, "mailbox_read": 5, "mailbox_statu": 5, "0x18": 5, "mailbox_writ": 5, "0x20": [5, 8], "mailbox_empti": 5, "0x40000000": [5, 13], "mailbox_ful": 5, "0x80000000": 5, "properti": [5, 9], "interfac": [5, 9, 10], "indic": [5, 12], "differ": [5, 6, 8, 10, 12, 13, 16, 18], "oper": [5, 7, 10, 11, 12, 17, 18], "specif": [5, 6, 9, 11, 12], "below": [5, 10, 11, 12], "exampl": [5, 8, 9, 10, 11, 12], "board": [5, 8], "revis": [5, 8], "get_board_revis": 5, "0x00010002": 5, "request_cod": 5, "0x00000000": [5, 13], "request_succe": 5, "request_fail": 5, "0x80000001": 5, "tag_request_cod": 5, "end_tag": 5, "void": [5, 8, 9, 11, 12, 13], "unsign": [5, 8], "int": [5, 8, 9, 12, 13], "buffer": [5, 9, 10, 11, 12], "size": [5, 6, 8, 9, 10, 12, 13], "byte": [5, 10, 12, 13], "begin": [5, 8, 10], "identifi": 5, "maximum": [5, 11], "request": [5, 9, 11], "respons": [5, 11], "length": 5, "end": [5, 10, 11], "mailbox_cal": 5, "procedur": [5, 11], "abov": [5, 8, 10, 11, 12, 13], "printf": [5, 12, 13], "0x": [5, 13], "n": [5, 8, 12, 13], "0xa020d3": 5, "ha": [5, 6, 8, 9, 10, 11, 12, 13], "displai": [5, 7], "output": [5, 6, 7, 8], "which": [5, 10, 13, 16], "control": [5, 6, 12], "show": 5, "imag": [5, 9, 11, 12], "text": [5, 6, 7, 8, 9, 10, 11, 13], "your": [5, 6, 7, 8, 9, 10, 11, 12, 13, 16], "screen": [5, 7, 8], "There": [5, 6, 7, 8, 9, 11, 16], "item": [5, 11], "them": [5, 6, 7, 8, 10, 11, 12, 13, 16], "brief": [5, 11], "explan": [5, 13], "experi": [5, 9], "better": [5, 10, 11], "alloc": [5, 12], "base": [5, 8, 10, 11, 13], "pixel": 5, "color": 5, "accord": [5, 10, 13], "its": [5, 6, 8, 9, 10, 11, 12, 13], "return": [5, 9, 10, 11, 12, 13], "bitwis": 5, "AND": 5, "0x3fff_ffff": 5, "physic": [5, 6, 8, 11, 13], "width": 5, "height": 5, "A": [5, 7, 9, 10, 11, 12, 13], "portion": 5, "send": [5, 9, 10, 12, 16], "offset": [5, 13], "bigger": 5, "than": [5, 10, 11, 13], "decid": [5, 13], "part": [5, 7, 9, 10, 11, 12, 13], "sent": [5, 10], "depth": 5, "mani": [5, 12, 13], "repres": [5, 11, 12], "order": [5, 9, 10, 11], "either": [5, 7, 9, 10, 11], "rgb": 5, "bgr": 5, "pitch": 5, "store": [5, 6, 12, 13], "per": [5, 16], "horizont": 5, "draw": 5, "k": 5, "th": [5, 11], "row": 5, "skip": 5, "cs140e": [6, 10], "sergio": [6, 10], "bz": [6, 10], "bcm2837": [6, 10], "through": [6, 7, 8, 9, 10, 12], "map": [6, 11], "input": [6, 8], "when": [6, 8, 10, 11, 12], "load": [6, 7, 8, 10, 12, 13], "therefor": [6, 10, 11, 12, 13], "videocor": 6, "mmu": [6, 13], "translat": [6, 11], "bu": [6, 9], "0x7e000000": 6, "In": [6, 7, 8, 9, 10, 11, 12, 13], "howev": [6, 8, 9, 10, 11, 12, 13, 16], "one": [6, 7, 9, 10, 11, 12, 13], "led": 6, "button": [6, 8], "besid": [6, 7, 9, 10, 12, 13], "altern": [6, 10], "spi": 6, "befor": [6, 7, 9, 10, 11, 12, 13], "pin": [6, 7], "correspond": [6, 7, 9, 10, 12, 13], "mode": [6, 12, 13], "alt5": 6, "alt0": 6, "gpfseln": 6, "next": [6, 7, 10, 12, 13], "pull": 6, "down": 6, "disabl": [6, 10, 12, 13], "It": [6, 7, 9, 10, 11, 12, 13, 16], "descript": [6, 8, 16, 18], "gppud": 6, "gppudclkn": 6, "setup": [6, 12, 13], "auxiliari": 6, "support": [6, 8, 9], "limit": [6, 10, 16], "auxenb": 6, "enabl": [6, 12, 13], "aux_mu_cntl_reg": 6, "transmitt": 6, "receiv": [6, 12], "dure": [6, 9, 10, 11, 12, 13, 16, 18], "aux_mu_ier_reg": [6, 10], "current": [6, 9, 10, 12, 13], "don": [6, 7, 9, 10, 11, 12, 13], "t": [6, 7, 8, 9, 10, 11, 12, 13, 16], "aux_mu_lcr_reg": 6, "aux_mu_mcr_reg": 6, "auto": 6, "flow": 6, "aux_mu_baud": 6, "270": 6, "baud": [6, 7], "rate": [6, 7, 8], "115200": [6, 7], "clock": [6, 8], "250": 6, "mhz": 6, "frac": 6, "systemx": 6, "freq": 6, "aux_mu_iir_reg": 6, "No": 6, "fifo": [6, 10], "aux_mu_lsr_reg": 6, "readi": [6, 10, 12], "field": 6, "aux_mu_io_reg": 6, "tx": [6, 7, 10], "rx": [6, 7, 10], "caus": [6, 10, 12, 13], "register1": 6, "page": [6, 9, 10, 12, 17], "116": 6, "aux": 6, "By": 6, "default": [6, 7, 9, 10, 12], "qemu": [6, 8, 9, 10, 16], "uart0": 6, "serial": [6, 7, 9], "io": [6, 8, 9, 12, 13, 18], "want": [6, 9, 10, 12], "uart1": 6, "null": [6, 9, 13], "stdio": 6, "first": [6, 7, 9, 10, 11, 13], "mailbox": 6, "similar": 6, "frequenc": [6, 10], "almost": 6, "ibrd": 6, "fbrd": 6, "lcrh": 6, "cr": 6, "fr": 6, "dr": 6, "imsc": 6, "mi": 6, "icr": 6, "clear": [6, 13], "automat": [6, 13], "register2": 6, "117": 6, "futur": 7, "instal": 7, "target": [7, 9, 10], "toolchain": 7, "build": [7, 9], "what": [7, 9, 10, 12, 13, 16, 18], "test": [7, 9, 10], "introductori": 7, "won": [7, 12], "grade": 7, "finish": [7, 10, 12, 13, 16], "all": [7, 8, 9, 10, 11, 12, 13], "troubl": 7, "cortex": 7, "a53": 7, "64": [7, 13], "non": [7, 10, 12, 13], "arm64": 7, "host": [7, 8, 9], "comput": [7, 8, 9, 10], "notic": [7, 12], "exist": [7, 13], "script": [7, 8, 9, 12, 13], "ld": 7, "verbos": 7, "content": [7, 9, 10, 12, 13], "layout": 7, "yourself": [7, 11, 16], "incomplet": 7, "extend": 7, "section": [7, 11, 12, 13], "0x80000": [7, 8, 9, 13], "easier": 7, "valid": [7, 13, 16], "option": [7, 9, 11], "doesn": [7, 8, 10, 11, 12], "behav": [7, 10], "too": [7, 10], "aarch64": [7, 9, 10], "have": [7, 10, 11, 13], "knowledg": 7, "now": [7, 10, 12, 13], "practic": [7, 8], "convert": 7, "save": [7, 12], "assembli": 7, "linux": [7, 9, 13, 17], "gnu": 7, "gcc": 7, "Or": 7, "would": [7, 11, 13], "like": [7, 9, 10, 12], "also": [7, 9, 10, 11, 12, 13], "try": [7, 11, 13], "llvm": 7, "clang": 7, "mcpu": 7, "especi": 7, "maco": 7, "link": [7, 13], "execut": [7, 8, 9, 10, 12, 13], "loader": [7, 12], "usual": [7, 9, 10, 13], "regular": [7, 11, 12], "previou": [7, 9, 10, 11, 12, 13, 18], "run": [7, 9, 10, 11, 13], "command": [7, 8, 9, 10], "kernel8": [7, 8], "lld": 7, "m": 7, "aarch64elf": 7, "henc": [7, 8, 9, 10, 11, 12, 13, 16], "raw": [7, 9, 13], "binari": [7, 9, 13], "objcopi": 7, "img": [7, 8, 9], "kernle8": 7, "see": [7, 13, 16, 18], "dump": 7, "raspi3": [7, 17], "none": 7, "d": [7, 10, 12, 13], "in_asm": 7, "least": [7, 8, 10, 12], "stuff": [7, 12], "fat16": [7, 9], "32": [7, 9, 10, 11], "partit": [7, 9, 11], "wai": [7, 9, 10, 11, 12], "do": [7, 10, 12, 13, 16, 18], "alreadi": [7, 11, 12, 13], "dd": 7, "nctuo": 7, "dev": [7, 9], "sdb": 7, "replac": [7, 10, 13], "lsblk": 7, "fat32": 7, "filesystem": [7, 9], "insid": [7, 9], "mount": [7, 9], "disk": 7, "download": [7, 9], "bootcod": [7, 9], "bin": [7, 9], "fixup": 7, "dat": 7, "start": [7, 8, 9, 10, 11, 12, 13], "essenti": [7, 13], "pi3": 7, "offici": [7, 9], "websit": [7, 9, 16, 17], "www": 7, "org": [7, 13, 17], "boot_fold": 7, "md": 7, "bootmod": 7, "readm": 7, "put": [7, 9, 10, 11, 12], "fat": 7, "mkf": 7, "f": [7, 10, 11], "creat": [7, 9, 10, 11, 13], "type": [7, 13, 16], "method": [7, 9, 12], "our": 7, "echo": 7, "uart": 7, "kit": 7, "well": [7, 11, 12], "ident": [7, 12], "plug": 7, "usb": [7, 9], "open": [7, 9], "consol": 7, "putti": 7, "correct": [7, 8, 9, 10, 11, 12, 13], "connect": [7, 9], "gnd": 7, "turn": [7, 9, 11], "power": [7, 9], "letter": 7, "print": [7, 8, 10, 11, 12, 13], "just": [7, 10, 11], "ttyusb0": [7, 9], "rel": 7, "expos": 7, "debugg": 7, "wait": [7, 10], "gdb": [7, 10], "remot": 7, "1234": 7, "log": [7, 11], "jtag": 7, "metebalci": 7, "blog": 7, "3b": 7, "let": [8, 12], "requir": [8, 10, 11, 16, 18], "data": [8, 9, 10, 12, 13], "present": [8, 13], "counter": [8, 10], "bss": [8, 13], "segment": [8, 10, 11, 13], "proper": [8, 10], "booload": 8, "linker": [8, 9, 12, 13], "met": 8, "properli": [8, 12], "veri": [8, 9], "otherwis": [8, 10, 12, 13], "lead": [8, 10], "undefin": 8, "behavior": 8, "bridg": 8, "pl011": 8, "interact": 8, "abl": [8, 9, 11, 12], "help": [8, 13], "avail": [8, 11, 12], "think": 8, "r": 8, "framebuff": 8, "routin": 8, "easiest": 8, "thing": [8, 10, 13, 16], "done": [8, 12], "verifi": [8, 11], "origin": [8, 9, 12, 13], "reset": [8, 9], "snippet": 8, "pm_password": 8, "0x5a000000": 8, "pm_rstc": 8, "0x3f10001c": 8, "pm_wdog": 8, "0x3f100024": 8, "long": [8, 10, 11, 12], "addr": [8, 13], "volatil": 8, "point": [8, 9, 12, 13], "tick": [8, 10], "watchdog": 8, "timer": 8, "expir": [8, 10], "cancel_reset": 8, "add": [8, 9, 10, 11, 12], "environ": 9, "variou": 9, "user": [9, 10, 11], "includ": 9, "subsystem": 9, "match": 9, "init": [9, 12], "bring": 9, "remain": [9, 12, 13], "servic": [9, 10, 12], "userspac": 9, "later": [9, 10, 11], "stage": [9, 13], "rom": 9, "soc": 9, "recogn": 9, "second": [9, 10, 11, 13], "sd": 9, "card": 9, "l2": 9, "cach": [9, 13], "sdram": 9, "elf": 9, "wake": [9, 10, 12], "anoth": [9, 10, 11, 12], "actual": [9, 10], "move": [9, 10], "often": 9, "elimin": 9, "under": 9, "devis": [9, 11], "protocol": 9, "rare": 9, "drop": 9, "transmiss": 9, "so": [9, 10, 11, 12, 13], "keep": [9, 13], "effect": 9, "wb": 9, "tty": 9, "pty": 9, "pseudo": [9, 10], "overlap": [9, 12, 13], "specifi": [9, 10, 11, 13], "re": [9, 10, 13, 16], "txt": 9, "kernel_address": 9, "further": 9, "make": [9, 11, 12, 13], "less": [9, 10], "ambigu": 9, "name": [9, 12, 13], "arm_64bit": 9, "0x60000": 9, "low": [9, 10], "speed": 9, "okai": 9, "quit": [9, 11, 13], "small": [9, 11], "larg": [9, 11], "root": 9, "haven": 9, "ani": [9, 10, 11, 12, 13, 16], "yet": [9, 11, 12, 16, 18], "anyth": 9, "approach": [9, 11], "embed": [9, 16, 17], "extract": 9, "pack": 9, "directori": [9, 13], "each": [9, 10, 11, 12, 13, 16], "record": [9, 11], "header": [9, 11], "pathnam": 9, "go": [9, 10], "rootf": 9, "cd": 9, "find": [9, 10, 12, 16], "h": 9, "newc": 9, "initramf": [9, 11], "freebsd": 9, "man": 9, "definit": 9, "structur": [9, 12], "parser": 9, "argument": 9, "initrd": 9, "0x8000000": 9, "0x20000000": 9, "given": [9, 11], "plain": 9, "autom": 9, "progress": 9, "dynam": 9, "earli": 9, "continu": [9, 12], "space": [9, 11], "free": [9, 12], "follo": 9, "breif": 9, "simple_malloc": 9, "size_t": [9, 12, 13], "char": [9, 12, 13], "string": [9, 12], "simple_alloc": 9, "allow": [9, 10, 12, 16], "itself": [9, 12], "know": [9, 10, 12], "buse": 9, "pcie": 9, "detect": [9, 11], "queri": 9, "compat": 9, "One": [9, 10, 12], "drive": [9, 17], "did": [9, 10], "develop": [9, 12, 16], "hard": [9, 11, 13], "out": [9, 11, 12], "becom": [9, 12], "portabl": 9, "cleaner": 9, "describ": [9, 11], "relationship": [9, 10, 11], "deivcetre": 9, "sourc": 9, "dt": 9, "flatten": [9, 11], "tree": [9, 11], "human": 9, "readabl": [9, 13], "form": 9, "simpler": [9, 10], "faster": 9, "slow": 9, "repositori": [9, 16, 18], "off": [9, 11], "shelf": 9, "take": [9, 10, 12, 13, 16], "callback": [9, 10], "walk": 9, "entir": [9, 10, 12, 13], "node": [9, 11], "latest": 9, "chapter": [9, 10, 13], "modifi": [9, 10, 13], "ask": [9, 11, 16], "bcm2710": 9, "rpi": 9, "plu": 9, "iter": [9, 13], "api": [9, 10, 11, 12], "own": [9, 12, 13, 16], "initramfs_callback": 9, "fdt_travers": 9, "hardcod": [9, 11], "event": [10, 12], "relinquish": [10, 12], "With": [10, 13], "error": [10, 12, 13], "occur": 10, "gener": [10, 11, 12, 13], "forc": [10, 12], "armv8": [10, 13], "tightli": 10, "coupl": 10, "briefli": [10, 13], "d1": 10, "1496": 10, "principl": 10, "privileg": [10, 13], "resourc": [10, 12], "reduc": [10, 11], "possibl": [10, 11, 12, 13], "attack": 10, "surfac": 10, "stabil": 10, "increas": [10, 13], "divers": [10, 11], "applic": [10, 11, 12], "without": [10, 11, 13], "crash": 10, "el": 10, "decreas": 10, "jump": 10, "instruct": [10, 12, 13], "taken": [10, 13], "doe": [10, 12, 13], "processor": 10, "state": [10, 11, 12], "pstate": 10, "spsr_elx": 10, "elr_elx": 10, "synchron": 10, "serror": 10, "esr_elx": 10, "eret": 10, "restor": [10, 12], "As": [10, 11, 12, 13], "mention": [10, 12, 13], "vbar_elx": 10, "left": 10, "focu": 10, "irq": 10, "right": [10, 12], "happen": [10, 13], "case": [10, 11, 12, 13], "64bit": 10, "sp_elx": 10, "currentel": 10, "while": [10, 12, 13], "alwai": [10, 12], "poll": 10, "redund": 10, "wast": [10, 12, 13], "immedi": 10, "underutil": 10, "loss": 10, "thei": [10, 11, 12, 16], "indefinit": 10, "rout": 10, "found": 10, "tekki": 10, "aggreg": 10, "109": 10, "share": [10, 12, 13, 17], "corrupt": [10, 11, 12], "protect": [10, 12, 13], "temporarili": 10, "prevent": [10, 11, 12, 13], "being": [10, 11], "hcr_el2": 10, "spsr_el2": 10, "elr_el2": 10, "from_el2_to_el1": 10, "msr": [10, 12, 13], "0x3c5": 10, "el1h": 10, "spsel": 10, "lr": [10, 12], "initi": [10, 11, 13], "shell": 10, "spsr_el1": 10, "0x3c0": 10, "elr_el1": 10, "posit": 10, "sp_el0": 10, "back": [10, 11, 12, 13], "But": 10, "vbar_el1": 10, "exception_handl": 10, "0x800": 10, "global": [10, 12, 13], "exception_vector_t": 10, "entri": [10, 11, 13], "0x80": 10, "pad": 10, "set_exception_vector_t": 10, "adr": 10, "svc": [10, 12], "esr_el1": 10, "cmp": 10, "blt": 10, "unexpectedli": 10, "That": [10, 11], "purpos": [10, 11, 12], "bank": 10, "exit": [10, 12], "macro": [10, 12], "save_al": 10, "sub": 10, "stp": [10, 12], "x1": [10, 12, 13], "x2": [10, 13], "x3": [10, 13], "x4": 10, "x5": 10, "x6": 10, "x7": 10, "x8": 10, "x9": [10, 12], "x10": 10, "x11": 10, "x12": 10, "x13": 10, "x14": 10, "x15": 10, "x16": 10, "x17": 10, "x18": 10, "x19": [10, 12], "x20": [10, 12], "x21": [10, 12], "x22": [10, 12], "x23": [10, 12], "x24": [10, 12], "x25": [10, 12], "x26": [10, 12], "x27": [10, 12], "x28": [10, 12], "x29": 10, "str": [10, 12, 13], "x30": 10, "endm": 10, "load_al": 10, "ldp": [10, 12], "exception_entri": 10, "cntpct_el0": 10, "count": [10, 13], "cntp_cval_el0": 10, "compar": 10, "cntp_tval_el0": 10, "cntp_ctl_el0": 10, "unmask": 10, "core0_timer_irq_ctrl": 10, "0x40000040": 10, "core_timer_en": 10, "mr": [10, 12, 13], "cntfrq_el0": 10, "w0": 10, "core_timer_handl": 10, "timeout": 10, "daifclr": 10, "0xf": 10, "daifset": 10, "depend": [10, 11, 16], "score": [10, 16], "0x3f215044": 10, "irqs1": 10, "0x3f00b210": 10, "bit29": 10, "version": 10, "period": 10, "job": [10, 12, 13], "schedul": 10, "journal": 10, "shot": 10, "sleep": [10, 12], "softwar": [10, 12], "simpl": [10, 11, 12], "unit": [10, 11, 13], "calcul": [10, 11], "suppos": [10, 11], "1000hz": 10, "moment": [10, 12], "1500": 10, "bad": 10, "resolut": 10, "sensit": 10, "high": [10, 12], "lot": [10, 11, 13, 16], "overhead": 10, "someon": [10, 12, 13], "insert": 10, "queue": 10, "earlier": [10, 13], "reprogram": 10, "def": [10, 12], "add_tim": 10, "durat": 10, "wakeup": 10, "current_process": 10, "settimeout": 10, "multipl": [10, 12, 13], "e": [10, 11, 12, 13], "g": [10, 11, 12, 13], "those": [10, 11, 12], "longer": 10, "come": [10, 13], "serv": 10, "starvat": 10, "priorit": 10, "singl": [10, 12], "thread": 10, "task": [10, 11, 12], "mask": 10, "dma": 10, "enqueu": 10, "idl": 10, "lifo": 10, "soon": 10, "prioriti": [10, 12], "previous": [10, 11], "preserv": 10, "preempt": 10, "newli": [10, 12, 13], "complet": [10, 13], "higher": 10, "last": [10, 16], "highest": 10, "maintain": [11, 12], "intern": 11, "pool": 11, "object": 11, "suffici": 11, "known": 11, "determin": [11, 12], "amount": 11, "runtim": 11, "necessari": [11, 12, 13], "spin": 11, "tabl": 11, "multicor": 11, "0x0000": 11, "0x1000": [11, 13], "enough": [11, 12], "contigu": 11, "reus": 11, "again": [11, 12], "wonder": 11, "why": 11, "isn": 11, "inde": 11, "4kb": [11, 13], "half": 11, "addit": [11, 12, 13], "bookkeep": 11, "fine": [11, 12], "grain": [11, 12], "cut": 11, "chunk": [11, 13], "deal": 11, "problem": [11, 12, 13], "unus": 11, "region": 11, "0x1000_0000": 11, "0x2000_0000": 11, "algorithm": 11, "fragment": 11, "suitabl": 11, "max": 11, "larger": [11, 13], "handl": [11, 12, 13], "speak": 11, "construct": 11, "total": 11, "200kb": 11, "50": 11, "0x0": [11, 13], "4k": 11, "live": 11, "mean": [11, 12, 13], "assign": 11, "index": [11, 13], "idx": 11, "val": 11, "frames": 11, "geq": 11, "belong": [11, 13], "directli": [11, 12, 13], "view": [11, 12], "formula": 11, "4096": [11, 13], "expon": 11, "search": 11, "tri": 11, "far": [11, 13], "bottom": [11, 13], "until": [11, 12], "equal": [11, 13], "naiv": 11, "xor": 11, "stop": 11, "wrapper": 11, "common": [11, 13], "48": [11, 13], "96": 11, "slot": 11, "round": [11, 12, 13], "nearest": 11, "unalloc": 11, "new": 11, "caller": [11, 12], "prefix": 11, "freed": 11, "quick": 11, "feasibl": 11, "care": [11, 13], "must": [11, 16], "techniqu": 11, "constant": 11, "logn": 11, "note": [11, 12, 13], "mark": [11, 12, 13], "memory_reserv": 11, "chicken": 11, "egg": 11, "dilemma": 11, "dedic": 11, "simpli": 11, "lab2": 11, "etc": [11, 12, 13], "hole": 11, "usabl": 11, "0x00": 11, "0x3c000000": 11, "devicetre": 11, "multitask": 12, "most": [12, 13], "import": 12, "featur": 12, "moreov": 12, "independ": 12, "true": 12, "parallel": 12, "element": 12, "isol": [12, 13], "capabl": 12, "instanc": 12, "invok": 12, "illeg": 12, "runnabl": 12, "pick": 12, "certain": [12, 13], "mutex": 12, "effici": 12, "meaning": 12, "remov": [12, 13], "awaken": 12, "eventu": 12, "voluntarili": 12, "reli": 12, "voluntari": 12, "onc": 12, "never": [12, 13], "even": [12, 13, 16], "chanc": 12, "over": 12, "handler": 12, "tricki": 12, "critic": 12, "arbitr": 12, "interleav": 12, "fortun": 12, "themselv": 12, "fault": 12, "blame": 12, "worri": 12, "contrari": 12, "meanwhil": 12, "race": 12, "awar": [12, 13], "adopt": 12, "complex": 12, "creation": 12, "recycl": 12, "foo": 12, "robin": 12, "manner": 12, "switch_to": 12, "fp": 12, "tpidr_el1": 12, "ret": 12, "get_curr": 12, "prev": 12, "calle": 12, "guarante": [12, 13], "fetch": 12, "explicitli": 12, "implicitli": 12, "termin": [12, 13], "dealloc": 12, "shouldn": 12, "releas": 12, "freeabl": 12, "dead": 12, "unix": [12, 13], "zombi": 12, "parent": 12, "child": [12, 13], "simplifi": 12, "ye": 12, "kill_zombi": 12, "reclaim": [12, 13], "equival": [12, 13], "logic": [12, 13], "expect": 12, "result": 12, "id": [12, 13], "current_thread": 12, "delai": [12, 13], "1000000": [12, 13], "kernel_main": 12, "thread_creat": 12, "shown": 12, "top": [12, 13], "exec": 12, "arg1": 12, "init_thread": 12, "Be": 12, "unalign": [12, 13], "across": 12, "touch": 12, "someth": 12, "getpid": [12, 13], "uart_read": 12, "buf": 12, "uart_writ": 12, "const": 12, "written": 12, "argv": 12, "fork": 12, "classic": 12, "duplic": 12, "distinguish": 12, "variabl": 12, "el0": [12, 13], "el1": [12, 13], "slice": 12, "argv_test": 12, "fork_test": 12, "pid": [12, 13], "argc": 12, "fork_argv": 12, "cnt": [12, 13], "ptr": [12, 13], "p": 12, "els": [12, 13], "user_test": 12, "arg2": 12, "relat": [12, 13], "pseudocod": 12, "declar": 12, "suspend": 12, "wait_queu": 12, "waitqueu": 12, "block_read": 12, "nonblock_read": 12, "wake_up": 12, "At": 12, "preemptibl": 12, "asynchron": 12, "inter": 12, "kill": 12, "sigint": 12, "sigkil": 12, "pend": 12, "furthermor": 12, "sigreturn": 12, "lastli": 12, "nest": 12, "interf": 13, "architectur": 13, "involv": 13, "hypervisor": 13, "pud": 13, "middl": 13, "pmd": 13, "pte": 13, "whose": 13, "phy": 13, "ignor": 13, "47": 13, "01": 13, "invalid": 13, "54": 13, "unprivileg": 13, "53": 13, "0b01": 13, "matter": 13, "linearli": 13, "0xffff_0000_0000_0000": 13, "simplfi": 13, "elast": 13, "everyth": 13, "granul": 13, "Not": 13, "asid": 13, "1720": 13, "tutori": [13, 17], "guid": 13, "give": 13, "tcr_config_region_48bit": 13, "tcr_config_4kb": 13, "0b00": 13, "0b10": 13, "tcr_config_default": 13, "tcr_el1": 13, "polici": 13, "encod": 13, "select": 13, "ngnrne": 13, "restrict": 13, "normal": 13, "ram": 13, "gather": 13, "reorder": 13, "specul": 13, "mair_device_ngnrn": 13, "0b00000000": 13, "mair_normal_nocach": 13, "0b01000100": 13, "mair_idx_device_ngnrn": 13, "mair_idx_normal_nocach": 13, "mair_el1": 13, "1gb": 13, "0x3fffffff": 13, "0x7fffffff": 13, "local": 13, "pd_tabl": 13, "0b11": 13, "pd_block": 13, "pd_access": 13, "boot_pgd_attr": 13, "boot_pud_attr": 13, "orr": 13, "1st": 13, "2nd": 13, "ttbr0_el1": 13, "sctlr_el1": 13, "symbol": 13, "0xffff000000000000": 13, "_kernel_start": 13, "built": 13, "ttbr1_el1": 13, "boot_rest": 13, "br": 13, "sometim": 13, "2mb": 13, "four": 13, "linear": 13, "fill": 13, "layer": 13, "solv": 13, "barrier": 13, "tlb": 13, "old": 13, "stale": 13, "next_pgd": 13, "dsb": 13, "ish": 13, "ensur": 13, "tlbi": 13, "vmalle1i": 13, "invalidat": 13, "isb": 13, "pipelin": 13, "far_el1": 13, "llx": 13, "indepnd": 13, "trigger": 13, "anonym": 13, "heap": 13, "len": 13, "prot": 13, "fd": 13, "file_offset": 13, "map_fix": 13, "fail": 13, "hint": 13, "prot_non": 13, "prot_read": 13, "prot_writ": 13, "writabl": 13, "prot_exec": 13, "map_anonym": 13, "map_popul": 13, "illegal_read": 13, "1000": 13, "4097": 13, "segfault": 13, "illegal_writ": 13, "seg": 13, "reach": 13, "struct": 13, "member": 13, "e_entri": 13, "e_phoff": 13, "e_phnum": 13, "p_type": 13, "pt_load": 13, "p_align": 13, "equiv": 13, "mod": 13, "p_flag": 13, "rwx": 13, "confus": 13, "readelf": 13, "l": 13, "en": 13, "wikipedia": 13, "wiki": [13, 17], "executable_and_linkable_format": 13, "bin_start": 13, "unfortun": 13, "boundari": 13, "pre": 13, "head": 13, "paramet": 13, "page_s": 13, "huge": 13, "kerenl": 13, "beggin": 13, "induc": 13, "destori": 13, "odd": 13, "statement": 13, "permiss": 13, "And": 13, "exercis": 16, "major": 16, "advanc": 16, "bonu": 16, "todo": 16, "year": [16, 18], "semest": [16, 18], "recommend": 16, "plagiar": 16, "elabor": 16, "clearli": 16, "70": 16, "wrong": 16, "90": 16, "late": 16, "penalti": 16, "experienc": 16, "commonli": 16, "made": 16, "mistak": 16, "pr": 16, "github": [16, 17, 18], "repo": 16, "These": 17, "great": 17, "bztsrc": 17, "matyukevich": 17, "rust": 17, "offic": 17, "elinux": 17, "rpi_hub": 17, "shorturl": 17, "imzz4": 17, "slide": 17, "googl": 17, "folder": 17, "1vp43bgphms2dbwcbs1jgiv7quzrfde0x": 17, "usp": 17, "1puuwefg2az": 17, "ay1qg9dsvkmy30egavivm": 17, "2020": 18, "grasslab": 18, "osdi": 18, "nycu": 18, "capston": 18, "2021": 18, "nycu_operating_system_capston": 18}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"schedul": [0, 12], "staff": 1, "instructor": 1, "teach": 1, "assist": 1, "welcom": 2, "oper": 2, "system": [2, 11, 12, 14, 15], "capston": 2, "spring": 2, "2022": 2, "lectur": 2, "offic": 2, "hour": 2, "The": [3, 12], "assembli": 3, "you": 3, "need": 3, "lab": [3, 7, 8, 9, 10, 11, 12, 13, 14, 16], "0": [3, 7], "1": [3, 8, 9, 10, 11, 12, 13], "hardwar": [4, 8, 15], "mailbox": [5, 8], "basic": [5, 8, 9, 10, 11, 12, 13], "tag": 5, "framebuff": 5, "uart": [6, 8, 9, 10], "background": [6, 9, 10, 11, 12, 13], "mmio": 6, "gpio": 6, "mini": [6, 8, 10], "initi": [6, 8, 9], "read": [6, 10], "data": [6, 11], "write": [6, 10, 13], "interrupt": [6, 10], "pl011": 6, "environ": 7, "setup": 7, "introduct": [7, 8, 9, 10, 11, 12, 13], "goal": [7, 8, 9, 10, 11, 12, 13], "thi": [7, 8, 9, 10, 11, 12, 13], "cross": 7, "platform": 7, "develop": 7, "compil": 7, "todo": [7, 8, 9, 10, 11, 12, 13], "linker": 7, "qemu": 7, "from": 7, "sourc": [7, 10], "code": 7, "kernel": [7, 9, 12, 13], "imag": 7, "object": 7, "file": [7, 14, 15], "elf": [7, 13], "check": 7, "deploi": 7, "real": 7, "rpi3": [7, 9, 10], "flash": 7, "bootabl": 7, "sd": 7, "card": 7, "interact": 7, "debug": 7, "hello": 8, "world": 8, "exercis": [8, 9, 10, 11, 12, 13], "20": [8, 11], "2": [8, 9, 10, 11, 12, 13], "3": [8, 9, 10, 11, 12], "simpl": [8, 9, 13], "shell": 8, "4": [8, 11, 13], "get": 8, "": [8, 10, 13], "inform": 8, "advanc": [8, 9, 10, 11, 12, 13], "reboot": 8, "30": [8, 9, 11], "boot": 9, "how": 9, "i": [9, 10], "load": 9, "bootload": 9, "config": 9, "set": 9, "ramdisk": 9, "new": [9, 13], "ascii": 9, "format": [9, 13], "cpio": 9, "archiv": 9, "alloc": [9, 11, 13], "10": [9, 11], "self": 9, "reloc": 9, "devicetre": 9, "pars": [9, 13], "dtb": 9, "except": 10, "offici": 10, "refer": [10, 13], "level": [10, 13], "handl": 10, "vector": 10, "tabl": [10, 13], "control": [10, 13], "critic": 10, "section": 10, "switch": [10, 12, 13], "el2": 10, "el1": 10, "el0": 10, "context": [10, 12, 13], "save": 10, "core": 10, "timer": 10, "peripher": 10, "enabl": 10, "determin": 10, "asynchron": 10, "multiplex": 10, "hint": 10, "concurr": 10, "o": 10, "devic": 10, "decoupl": 10, "handler": [10, 13], "nest": 10, "preemption": [10, 12], "reserv": 11, "memori": [11, 13], "dynam": 11, "page": [11, 13], "frame": [11, 12, 13], "observ": 11, "buddi": 11, "40": 11, "structur": 11, "link": 11, "list": 11, "block": 11, "differ": 11, "size": 11, "releas": 11, "redund": 11, "free": 11, "coalesc": 11, "find": 11, "merg": 11, "iter": 11, "effici": 11, "startup": 11, "5": 12, "thread": 12, "user": [12, 13], "process": [12, 13], "mmu": 12, "less": 12, "run": 12, "queue": 12, "wait": 12, "yield": 12, "creat": 12, "idl": 12, "end": 12, "test": [12, 13], "call": 12, "argument": 12, "pass": 12, "trap": 12, "requir": 12, "posix": 12, "signal": 12, "implement": 12, "6": 13, "virtual": [13, 14], "terminologi": 13, "translat": 13, "v": 13, "descriptor": 13, "simplifi": 13, "attribut": 13, "us": 13, "aarch64": 13, "layout": 13, "configur": 13, "space": 13, "regist": 13, "tcr": 13, "indirect": 13, "mair": 13, "brief": 13, "ident": 13, "map": 13, "finer": 13, "granular": 13, "pgd": 13, "revisit": 13, "fork": 13, "exec": 13, "fault": 13, "mmap": 13, "api": 13, "specif": 13, "region": 13, "loader": 13, "header": 13, "program": 13, "p_memsz": 13, "p_filesz": 13, "p_vaddr": 13, "p_offset": 13, "ar": 13, "align": 13, "demand": 13, "copi": 13, "On": 13, "when": 13, "either": 13, "children": 13, "parent": 13, "7": 14, "meet": 15, "overview": 16, "grade": 16, "polici": 16, "disclaim": 16, "extern": 17, "resours": 17, "old": 18, "cours": 18, "websit": 18}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"Schedule": [[0, "schedule"]], "Staff": [[1, "staff"]], "Instructor": [[1, "instructor"]], "Teaching assistants": [[1, "teaching-assistants"]], "Welcome to Operating System Capstone, Spring 2022!": [[2, "welcome-to-operating-system-capstone-spring-2022"]], "Lecture and Office Hours": [[2, "lecture-and-office-hours"]], "The Assembly You Need": [[3, "the-assembly-you-need"]], "Lab 0": [[3, "lab-0"]], "Lab 1": [[3, "lab-1"]], "Hardware": [[4, "hardware"]], "Mailbox": [[5, "mailbox"]], "Basics": [[5, "basics"]], "Tag": [[5, "tag"]], "Framebuffer": [[5, "framebuffer"]], "UART": [[6, "uart"]], "Background": [[6, "background"], [9, "background"], [10, "background"], [11, "background"], [12, "background"], [13, "background"]], "MMIO": [[6, "mmio"]], "GPIO": [[6, "gpio"]], "Mini UART": [[6, "mini-uart"]], "Initialization": [[6, "initialization"], [6, "id2"]], "Read data": [[6, "read-data"], [6, "id3"]], "Write data": [[6, "write-data"], [6, "id4"]], "Interrupt": [[6, "interrupt"], [6, "id5"]], "PL011 UART": [[6, "pl011-uart"]], "Lab 0: Environment Setup": [[7, "lab-0-environment-setup"]], "Introduction": [[7, "introduction"], [8, "introduction"], [9, "introduction"], [10, "introduction"], [11, "introduction"], [12, "introduction"], [13, "introduction"]], "Goals of this lab": [[7, "goals-of-this-lab"], [8, "goals-of-this-lab"], [9, "goals-of-this-lab"], [10, "goals-of-this-lab"], [11, "goals-of-this-lab"], [12, "goals-of-this-lab"], [13, "goals-of-this-lab"]], "Cross-Platform Development": [[7, "cross-platform-development"]], "Cross Compiler": [[7, "cross-compiler"]], "Todo": [[7, null], [7, null], [7, null], [7, null], [8, null], [8, null], [8, null], [8, null], [8, null], [9, null], [9, null], [9, null], [9, null], [9, null], [9, null], [9, null], [10, null], [10, null], [10, null], [10, null], [10, null], [10, null], [10, null], [10, null], [10, null], [10, null], [11, null], [11, null], [11, null], [11, null], [11, null], [12, null], [12, null], [12, null], [12, null], [12, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null], [13, null]], "Linker": [[7, "linker"]], "QEMU": [[7, "qemu"]], "From Source Code to Kernel Image": [[7, "from-source-code-to-kernel-image"]], "From Source Code to Object Files": [[7, "from-source-code-to-object-files"]], "From Object Files to ELF": [[7, "from-object-files-to-elf"]], "From ELF to Kernel Image": [[7, "from-elf-to-kernel-image"]], "Check on QEMU": [[7, "check-on-qemu"]], "Deploy to REAL Rpi3": [[7, "deploy-to-real-rpi3"]], "Flash Bootable Image to SD Card": [[7, "flash-bootable-image-to-sd-card"]], "Interact with Rpi3": [[7, "interact-with-rpi3"]], "Debugging": [[7, "debugging"]], "Debug on QEMU": [[7, "debug-on-qemu"]], "Debug on Real Rpi3": [[7, "debug-on-real-rpi3"]], "Lab 1: Hello World": [[8, "lab-1-hello-world"]], "Basic Exercises": [[8, "basic-exercises"], [9, "basic-exercises"], [10, "basic-exercises"], [11, "basic-exercises"], [12, "basic-exercises"], [13, "basic-exercises"]], "Basic Exercise 1 - Basic Initialization - 20%": [[8, "basic-exercise-1-basic-initialization-20"]], "Basic Exercise 2 - Mini UART - 20%": [[8, "basic-exercise-2-mini-uart-20"]], "Basic Exercise 3 - Simple Shell - 20%": [[8, "basic-exercise-3-simple-shell-20"]], "Basic Exercise 4 - Mailbox - 20%": [[8, "basic-exercise-4-mailbox-20"]], "Get the hardware\u2019s information": [[8, "get-the-hardware-s-information"]], "Advanced Exercises": [[8, "advanced-exercises"], [9, "advanced-exercises"], [10, "advanced-exercises"], [11, "advanced-exercises"], [12, "advanced-exercises"], [13, "advanced-exercises"]], "Advanced Exercise 1 - Reboot - 30%": [[8, "advanced-exercise-1-reboot-30"]], "Lab 2: Booting": [[9, "lab-2-booting"]], "How a Kernel is Loaded on Rpi3": [[9, "how-a-kernel-is-loaded-on-rpi3"]], "Basic Exercise 1 - UART Bootloader - 30%": [[9, "basic-exercise-1-uart-bootloader-30"]], "Config Kernel Loading Setting": [[9, "config-kernel-loading-setting"]], "Basic Exercise 2 - Initial Ramdisk - 30%": [[9, "basic-exercise-2-initial-ramdisk-30"]], "New ASCII Format Cpio Archive": [[9, "new-ascii-format-cpio-archive"]], "Loading Cpio Archive": [[9, "loading-cpio-archive"]], "Basic Exercise 3 - Simple Allocator - 10%": [[9, "basic-exercise-3-simple-allocator-10"]], "Advanced Exercise 1 - Bootloader Self Relocation - 10%": [[9, "advanced-exercise-1-bootloader-self-relocation-10"]], "Advanced Exercise 2 - Devicetree - 30%": [[9, "advanced-exercise-2-devicetree-30"]], "Format": [[9, "format"]], "Parsing": [[9, "parsing"]], "Dtb Loading": [[9, "dtb-loading"]], "Lab 3: Exception and Interrupt": [[10, "lab-3-exception-and-interrupt"]], "Official Reference": [[10, "official-reference"]], "Exception Levels": [[10, "exception-levels"]], "Exception Handling": [[10, "exception-handling"], [10, "id2"]], "Vector Table": [[10, "vector-table"]], "Interrupts": [[10, "interrupts"]], "Interrupt Controllers": [[10, "interrupt-controllers"]], "Critical Sections": [[10, "critical-sections"]], "Basic Exercise 1 - Exception": [[10, "basic-exercise-1-exception"]], "Exception Level Switch": [[10, "exception-level-switch"]], "EL2 to EL1": [[10, "el2-to-el1"]], "EL1 to EL0": [[10, "el1-to-el0"]], "EL0 to EL1": [[10, "el0-to-el1"]], "Context saving": [[10, "context-saving"]], "Basic Exercise 2 - Interrupt": [[10, "basic-exercise-2-interrupt"]], "Core Timer Interrupt": [[10, "core-timer-interrupt"]], "Advanced Exercise 1 - Rpi3\u2019s Peripheral Interrupt": [[10, "advanced-exercise-1-rpi3-s-peripheral-interrupt"]], "Enable mini UART\u2019s Interrupt.": [[10, "enable-mini-uart-s-interrupt"]], "Determine the Interrupt Source": [[10, "determine-the-interrupt-source"]], "Asynchronous Read and Write": [[10, "asynchronous-read-and-write"]], "Advanced Exercise 2 - Timer Multiplexing": [[10, "advanced-exercise-2-timer-multiplexing"]], "Hint": [[10, null]], "Advanced Exercise 3 - Concurrent I/O Devices Handling": [[10, "advanced-exercise-3-concurrent-i-o-devices-handling"]], "Decouple the Interrupt Handlers": [[10, "decouple-the-interrupt-handlers"]], "Nested Interrupt": [[10, "nested-interrupt"]], "Preemption": [[10, "preemption"]], "Lab 4: Allocator": [[11, "lab-4-allocator"]], "Reserved Memory": [[11, "reserved-memory"]], "Dynamic Memory Allocator": [[11, "dynamic-memory-allocator"]], "Page Frame Allocator": [[11, "page-frame-allocator"]], "Observability of Allocators": [[11, "observability-of-allocators"]], "Basic Exercise 1 - Buddy System - 40%": [[11, "basic-exercise-1-buddy-system-40"]], "Data Structure": [[11, "data-structure"]], "Linked-lists for blocks with different size": [[11, "linked-lists-for-blocks-with-different-size"]], "Release redundant memory block": [[11, "release-redundant-memory-block"]], "Free and Coalesce Blocks": [[11, "free-and-coalesce-blocks"]], "Find the buddy": [[11, "find-the-buddy"]], "Merge iteratively": [[11, "merge-iteratively"]], "Basic Exercise 2 - Dynamic Memory Allocator - 30%": [[11, "basic-exercise-2-dynamic-memory-allocator-30"]], "Advanced 1 - Efficient Page Allocation - 10%": [[11, "advanced-1-efficient-page-allocation-10"]], "Advanced 2 - Reserved Memory - 10%": [[11, "advanced-2-reserved-memory-10"]], "Advanced 3 - Startup Allocation - 20%": [[11, "advanced-3-startup-allocation-20"]], "Lab 5: Thread and User Process": [[12, "lab-5-thread-and-user-process"]], "Threads": [[12, "threads"]], "User Process": [[12, "user-process"]], "MMU-less": [[12, "mmu-less"]], "Run Queue and Wait Queue": [[12, "run-queue-and-wait-queue"]], "Yield and Preemption": [[12, "yield-and-preemption"]], "Basic Exercise 1 - Thread": [[12, "basic-exercise-1-thread"]], "Creating a Thread": [[12, "creating-a-thread"]], "Scheduler and Context Switch": [[12, "scheduler-and-context-switch"]], "The Idle Thread": [[12, "the-idle-thread"]], "End of a Thread": [[12, "end-of-a-thread"]], "Test": [[12, "test"], [12, "id1"], [13, "test"]], "Basic Exercise 2 - User Process and System Call": [[12, "basic-exercise-2-user-process-and-system-call"]], "Arguments Passing": [[12, "arguments-passing"]], "System Calls": [[12, "system-calls"]], "Trap Frame": [[12, "trap-frame"]], "Required System Calls": [[12, "required-system-calls"]], "User Preemption": [[12, "user-preemption"]], "Advanced Exercise 1 - Wait Queue": [[12, "advanced-exercise-1-wait-queue"]], "Advanced Exercise 2 - Kernel Preemption": [[12, "advanced-exercise-2-kernel-preemption"]], "Advanced Exercise 3 - POSIX Signal": [[12, "advanced-exercise-3-posix-signal"]], "Implementation": [[12, "implementation"]], "Lab 6: Virtual Memory": [[13, "lab-6-virtual-memory"]], "Terminology": [[13, "terminology"]], "Translation Levels": [[13, "translation-levels"]], "Page v.s. Page Frame v.s. Page Table": [[13, "page-v-s-page-frame-v-s-page-table"]], "Page\u2019s Descriptor": [[13, "page-s-descriptor"]], "Descriptor\u2019s Format(simplified)": [[13, "descriptor-s-format-simplified"]], "Attributes Used in this Lab": [[13, "attributes-used-in-this-lab"]], "AArch64 memory layout": [[13, "aarch64-memory-layout"]], "Configuration": [[13, "configuration"]], "Reference": [[13, "reference"]], "Basic Exercise 1 - Virtual Memory in Kernel Space": [[13, "basic-exercise-1-virtual-memory-in-kernel-space"]], "Translation Control Register (TCR)": [[13, "translation-control-register-tcr"]], "Memory Attribute Indirection Register (MAIR)": [[13, "memory-attribute-indirection-register-mair"]], "Brief Introduction": [[13, "brief-introduction"]], "Used Memory Attributes": [[13, "used-memory-attributes"]], "Identity Paging": [[13, "identity-paging"]], "Map the Kernel Space": [[13, "map-the-kernel-space"]], "Finer Granularity Paging": [[13, "finer-granularity-paging"]], "Basic Exercise 2 - Virtual Memory in User Space": [[13, "basic-exercise-2-virtual-memory-in-user-space"]], "PGD Allocation": [[13, "pgd-allocation"]], "Map the User Space": [[13, "map-the-user-space"]], "Revisit Fork and Exec": [[13, "revisit-fork-and-exec"]], "Context Switch": [[13, "context-switch"]], "Simple Page Fault Handler": [[13, "simple-page-fault-handler"]], "Advanced 1 - Mmap": [[13, "advanced-1-mmap"]], "API Specification": [[13, "api-specification"]], "Region Page Mapping": [[13, "region-page-mapping"]], "Tests": [[13, "tests"]], "Advanced Exercise 2 - ELF Loader": [[13, "advanced-exercise-2-elf-loader"]], "ELF Parsing": [[13, "elf-parsing"]], "ELF Header": [[13, "elf-header"]], "Program Header": [[13, "program-header"]], "ELF reference": [[13, "elf-reference"]], "ELF mapping": [[13, "elf-mapping"]], "p_memsz > p_filesz": [[13, "p-memsz-p-filesz"]], "p_vaddr and p_offset are not page aligned": [[13, "p-vaddr-and-p-offset-are-not-page-aligned"]], "Page Fault Handler & Demand Paging": [[13, "page-fault-handler-demand-paging"]], "Advanced Exercise 4 - Copy on Write": [[13, "advanced-exercise-4-copy-on-write"]], "On Fork a New Process": [[13, "on-fork-a-new-process"]], "When Either Children or Parent Write to that Page": [[13, "when-either-children-or-parent-write-to-that-page"]], "Lab 7: Virtual File System": [[14, "lab-7-virtual-file-system"]], "File System Meets Hardware": [[15, "file-system-meets-hardware"]], "Overview": [[16, "overview"]], "Labs": [[16, "labs"]], "Grading Policy": [[16, "grading-policy"]], "Disclaimer": [[16, "disclaimer"]], "External Resourses": [[17, "external-resourses"]], "Old Course Websites": [[18, "old-course-websites"]]}, "indexentries": {}})